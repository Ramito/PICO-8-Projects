pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
function _init()
 init_dog()
end

function _update60()
 if (btnp(🅾️)) dog_jump()
 if dog.dh!=0 or dog.h!=0 then
  dog.h+=(dog.dh/60)
  dog.dh-=100/60
  if dog.dh>0 then
   dog.sprite=3
  else
   dog.sprite=4
  end
 end
 if (dog.h<0) then
  dog.h=0
  dog.dh=0
 end
 
 if (btnp(❎)) dog_bark()
	local dir_x=0
	local dir_y=0
 if (btn(⬅️)) dir_x=-1
 if (btn(➡️)) dir_x=1
 if (btn(⬆️)) dir_y=-1
 if (btn(⬇️)) dir_y=1
 local norm=dir_x*dir_x+dir_y*dir_y
 if (norm==0) then
  dog_idle()
  return
 end
 dog_run()
 norm=1/(60*sqrt(norm))
 dir_x=dir_x*dog.speed*norm
 dir_y=dir_y*dog.speed*norm
 dog.dx=dir_x
 dog.dy=dir_y
 dog.x+=dir_x
 dog.y+=dir_y
end

function _draw()
 cls(1)
 camera()
 map()
 spr(dog.sprite
 ,dog.x,dog.y-dog.h
 ,1,1
 ,dog.dx<0)
end
-->8
--doggy

dog={}

function init_dog()
 dog = {}
 dog.speed=40
 dog.x=0
 dog.y=0
 dog.h=0
 dog.dh=0
 dog.dx=0
 dog.dy=0
 dog.anim=0
 dog.sprite=1
end

function dog_jump()
 if (dog.h!=0) return
 sfx(2)
 dog.dh=50
end

function dog_idle()
 dog.anim=0
 if (dog.h!=0) return
 dog.sprite=1
end

function dog_run()
 if (dog.h!=0) return
 dog.anim+=1
 if (dog.anim%10==0) sfx(0)
 dog.anim%=20
 dog.sprite=1+dog.anim/10
end

function dog_bark()
 sfx(1)
end
__gfx__
000000000000000000000000000000000000d0d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000d0d000000d0d00000cdc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000d0d00000cdc000000cdc00d00ddde0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000cdc00000ddde00000ddde0dddd44d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000d00ddde0dddd44d00d00d48d044444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000ddd44d00444400000ddd440040004400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000044440804000040000444044440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000040040000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbb8bbbbbbbbbbbbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbb8a8bbbbbbbbbbbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbb8bbbbbbbabbbbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbabbbbb5bbbbbbbb1111bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbabbbbbbbbbbbb0bb0bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbb3bbbbabbabbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbb3b3bbbbbbbbbbbbbbbabb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbabbbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b3b3b3bbbbbbbbbbbbbbbbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb3b3bbbbbbbbbbbbbbbbbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbbbbabbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00009b9099909b900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00099988099999880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999990009999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09990900999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99009000009990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0099000000aa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
2220202020202020202022202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020303020202120202030202030302000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020302000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020212032202020202021202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202023202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020302020202020303120202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020222020312320202020312020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2030202020323020202020212020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202021202020203020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2120202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020203320202020202030202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2320222020202232312120202022202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202021202023202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2020202020202020222320202021202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2021202020202020302020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
4a0100000d0100e0300f0401003011010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
50010000155101a5301c5501e560205601a5500c51000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000400000d0500d0500e0501005012050160502305025050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
